
---
title: Production deployment setup on AWS for Kubernetes with Jenkins CI/CD pipeline
author: Sudipto Das
date: 28 Feb, 2026
featured: true
tags:
  - AWS EKS
  - Kubernetes
  - Jenkins CI/CD
  - Docker
---

<h1>Production deployment setup on AWS for Kubernetes with Jenkins CI/CD pipeline</h1>
<h2>Architecture :</h2>
<ol>
Â Â <li>Developer will push new code on github</li>
Â Â <li>Jenkins CI/CD webhook will be triggered</li>
Â Â <li>Pipeline will start</li>
Â Â <ul>
Â Â Â Â <li>Secure env values with jenkins credential manager</li>
Â Â Â Â <li>Conditional dependency installation (storage cache)</li>
Â Â Â Â <li>Image scan for vulnerabilities and issues</li>
Â Â Â Â <li>EKS image update rollout confirmation</li>
Â Â Â Â <li>Auto rollback in case image updation fails</li>
Â Â Â Â <li>Email alert post pipeline execution</li>
Â Â </ul>
Â Â <li>Cloud managed Kubernetes with AWS EKS</li>
Â Â <li>Load balancing using AWS ELB</li>
</ol>
###
<h2>Production setup</h2>
<p><b>Requirements : AWS account, Docker Hub account</b></p>
***
<h2><b>STEP 1 : Jenkins nodes configure</b></h2>
<ol>
Â Â <li>Create two EC2 instances (master, agent)</li>
Â Â <li>On master : </li>
Â Â <ul>
Â Â Â Â <li>Install jdk latest</li>
Â Â Â Â <li>Install jenkins</li>
Â Â Â Â <li>Attach elastic IP (optional but recommended)</li>
Â Â Â Â <li>Add inbound rule for port : 8080</li>
Â Â Â Â <li>Copy IPv4 and open in new tab with :8080 -> http://ipv4-address:8080</li>
Â Â Â Â <li>Create jenkins account</li>
Â Â Â Â <li>Connect EC2 with local machine or use AWS terminal : </li>
Â Â Â Â <ul>
Â Â Â Â Â Â <li>navigate to <i>.ssh</i> folder </li>
Â Â Â Â Â Â <li>run command : <i>ssh-keygen</i></li>
Â Â Â Â Â Â <li>Store private key on safe place</li>
Â Â Â Â Â Â <li>Copy public key (will use later)</li>
Â Â Â Â </ul>
Â Â </ul>
Â Â <li>On agent : </li>
Â Â <ul>
Â Â Â Â <li>Install jdk latest</li>
Â Â Â Â <li>Install kubectl, aws cli</li>
Â Â Â Â <li>Create a role for EC2 to communicate with EKS and attach the policy with agent EC2</li>
Â Â Â Â <li>Navigate to <i>.ssh</i> folder > <i>authorized_keys</i> </li>
Â Â Â Â <li>Paste master public key on authorized_keys</li>
Â Â Â Â <li>Save and exit</li>
Â Â </ul>
</ol>
<h2><b>STEP 2 : Connect agent node with jenkins master</b></h2>
<ol>
Â Â <li>Copy agent node username (ubuntu)</li>
Â Â <li>Copy private IP (if master and agent are within same VPC) otherwise allocate elastic IP for agent and copy IPv4</li>
Â Â <li>In jenkins dashboard :</li>
Â Â <ul>
Â Â Â Â <li>Settings > credentials > add global credentials > type : ssh with username & private key</li>
Â Â Â Â <li>Add username : ubuntu</li>
Â Â Â Â <li>Add host : private IP</li>
Â Â Â Â <li>Add secret/private key : master private key</li>
Â Â Â Â <li>Save and exit</li>
Â Â </ul>
Â Â <li>Again on settings : </li>
Â Â <ul>
Â Â Â Â <li>Manage nodes</li>
Â Â Â Â <li>Add a new agent/node</li>
Â Â Â Â <li>Enter basic details</li>
Â Â Â Â <li>Add authentication method and select from global credentials</li>
Â Â Â Â <li>Save and exit</li>
Â Â </ul>
Â Â <li>Now master can run jobs on agent ðŸŽ‰</li>
</ol>
<h2><b>STEP 3 : Connect github webhook trigger</b></h2>
<ol>
Â Â <li>Open github > repo you want to connect > repo settings</li>
Â Â <li>Webhooks > add webhook</li>
Â Â <li>url : http://ipv4-address:8080/github-webhook/ (IPv4 should not change that's why elastic IP is recommended)</li>
Â Â <li>Content type : application/json</li>
Â Â <li>SSL verification : disable</li>
Â Â <li>Check event type</li>
Â Â <li>Save and exit</li>
Â Â <li>Webhook connected ðŸŽ‰</li>
</ol>
<h2><b>STEP 4 : Webhook trigger jenkins pipeline</b></h2>
<ol>
Â Â <li>Jenkins dashboard > new item > pipeline</li>
Â Â <li>Select git scm polling</li>
Â Â <li>Add repo url, branch, pipeline file script path (Jenkinsfile)</li>
Â Â <li>Add authentication method : username with password or (personal access tokens)</li>
Â Â <li>Save and exit</li>
Â Â <li>Pipeline created and will only trigger on github code changes ðŸŽ‰</li>
</ol>
<h2><b>STEP 5 : AWS EKS Setup with nodegroups</b></h2>
<ol>
Â Â <li>Create cluster in aws console with VPC settings and subnets (recommended : min. 3 subnets, 1 public, 2 private)</li>
Â Â <li>Attach a role for EKS with EKSClusterPolicy </li>
Â Â <li>Create one or desired number of nodegroup and select private subnets</li>
Â Â <li>Specs : atleast t3.small / t3.medium with 20GB storage and 3 nodes. (for small deployments use 1 node)</li>
Â Â <li>Attach roles and policy to nodegroup : </li>
Â Â <ul>
Â Â Â Â <li>IAM > roles > select EC2</li>
Â Â Â Â <li>Attach policy EC2WorkerNode, ContainerRegistry, CNI</li>
Â Â Â Â <li>Save and exit</li>
Â Â </ul>
Â Â <li>Attach this role to the nodegroup</li>
Â Â <li>Nodegroups created ðŸŽ‰</li>
Â Â </ol>
Â Â 
Â Â <h2><b>STEP 6 : Authenticate EC2 jenkins agent with EKS</b></h2>
Â Â <ol>
Â Â <li>On jenkins agent EC2 : </li>
Â Â <ul>
Â Â Â Â <li>Select IAM role and find ARN</li>
Â Â Â Â <li>Copy ARN > navigate to EKS > cluster > select cluster > access</li>
Â Â Â Â <li>Create a new principle access role and add the ARN</li>
Â Â Â Â <li>Add policy of EKSClusterAdminPolicy</li>
Â Â Â Â <li>Save and exit</li>
Â Â </ul>
Â Â <li>Now jenkins EC2 can make access to EKS cluster and run commands</li>
<li>Done ðŸŽ‰</li>
Â Â </ol>
<hr/>
<h2>After this setup your production pipeline is ready and now you can add your custom pipeline steps which you want to perform on each code push</h2>
